[pytest]
# Pytest Configuration File
# This file is an alternative to pyproject.toml for pytest configuration

# Minimum pytest version required
minversion = 7.0

# Test discovery patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Paths to search for tests
testpaths = team_alpha team_beta team_gamma

# Add project root to Python path
pythonpath = .

# Command line options that are always applied
addopts =
    # Report options
    -ra
    --strict-markers
    --strict-config
    --import-mode=importlib

    # Output options
    --verbose
    --tb=short

    # Allure reporting
    --alluredir=allure-results
    --clean-alluredir

    # Coverage options (if pytest-cov is installed)
    # --cov=core
    # --cov=team_alpha
    # --cov-report=html
    # --cov-report=term-missing

    # Warnings
    -W ignore::DeprecationWarning
    -W ignore::PendingDeprecationWarning

# Test markers
markers =
    smoke: Quick smoke tests for critical functionality
    regression: Comprehensive regression test suite
    slow: Tests that take longer than 5 seconds
    integration: Integration tests across multiple components
    unit: Unit tests for individual components
    team_alpha: Tests specific to Team Alpha
    team_beta: Tests specific to Team Beta
    api: API/backend tests
    ui: UI/frontend tests
    skip_ci: Skip these tests in CI environment
    windows_only: Tests that only run on Windows
    linux_only: Tests that only run on Linux
    mac_only: Tests that only run on macOS

# Logging configuration
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(message)s (%(filename)s:%(lineno)s)
log_cli_date_format = %Y-%m-%d %H:%M:%S

# File logging
log_file = logs/pytest.log
log_file_level = DEBUG
log_file_format = %(asctime)s [%(levelname)8s] %(name)s - %(message)s
log_file_date_format = %Y-%m-%d %H:%M:%S

# Test execution options
console_output_style = progress
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Parallel execution (pytest-xdist)
# Uncomment to enable parallel execution by default
# -n auto                    # Auto-detect CPU cores
# -n 4                       # Use 4 workers
# --dist loadscope           # Distribute by test class/module
# --dist loadfile            # Distribute by file
# --dist load                # Distribute evenly (default)

# Timeout for tests (requires pytest-timeout)
# timeout = 300
# timeout_method = thread

# Coverage options
[coverage:run]
source = core/ team_alpha/
omit =
    */tests/*
    */conftest.py
    */__init__.py

[coverage:report]
exclude_lines =
    pragma: no cover
    def __repr__
    raise AssertionError
    raise NotImplementedError
    if __name__ == .__main__.:
    if TYPE_CHECKING:
    @abstractmethod
